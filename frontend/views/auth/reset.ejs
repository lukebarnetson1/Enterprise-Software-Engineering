<%- include('../partials/header') %>

<div class="container mt-4">
   <div class="row justify-content-center">
      <div class="col-md-6">
         <div class="card">
            <div class="card-body">
               <h2 class="card-title text-center mb-4">Reset Password</h2>

               <form id="reset-form" method="POST" action="/auth/reset">
                  <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
                  <input type="hidden" name="token" value="<%= locals.token || '' %>" />

                  <div class="mb-3">
                  <label for="password" class="form-label">New Password:</label>
                  <input class="form-control" type="password" name="password" id="password" required minlength="8"/>
                   <div id="password-strength-bar" class="mt-2" style="width: 100%; height: 10px; background: #ccc; border-radius: 5px; overflow: hidden;">
                      <div id="password-strength-fill" style="width: 0%; height: 100%; background: red; transition: width 0.3s ease, background-color 0.3s ease;"></div>
                  </div>
                  <small id="password-strength-text" class="form-text text-muted">Password Strength:</small>
                  </div>


                  <div class="mb-3">
                  <label for="confirm-password" class="form-label">Confirm Password:</label>
                  <input class="form-control" type="password" name="confirm-password" id="confirm-password" required/>
                  </div>

                  <div class="d-grid">
                     <button class="btn btn-primary" type="submit">Reset Password</button>
                  </div>

               </form>
            </div>
         </div>
      </div>
   </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/zxcvbn/4.4.2/zxcvbn.js" defer></script>
<script src="/js/password-strength.js" defer></script>

<%- include('../partials/footer') %>